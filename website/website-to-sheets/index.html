<form id="myCustomForm">
  <input type="text" name="num-partida" placeholder="numero partida" />
  <input type="text" name="equipe" placeholder="equipe" />
  <input type="text" name="pontuacao-ind" placeholder="pontuacao-ind" />
  <input type="text" name="pontuacao-coop" placeholder="pontuacao-coop" />

  <button type="submit">Submit</button>
</form>

<script type="module">
  import { submitToGoogleForms } from "./googleFormsSubmit.js";

  document
    .getElementById("myCustomForm")
    .addEventListener("submit", async (e) => {
      e.preventDefault();

      const form = e.target;
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());

      const googleFormData = {
        "entry.1589049360": data["num-partida"],
        "entry.716767655": data["equipe"],
        "entry.1061580246": data["pontuacao-ind"],
        "entry.1383902084": data["pontuacao-coop"],
      };

      try {
        await submitToGoogleForms({
          url: "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdnXoIhHymASG9yfasIBmk6bYtF4g3cT3tgg6_tIuGIvVvJEA/formResponse",
          data: googleFormData,
        });

        console.log("Form submitted successfully:", googleFormData);
      
        alert("Form submitted successfully!");
      } catch (err) {
        console.error("Submission error:", err);
        alert("Failed to submit the form.");
      }
    });
</script>
